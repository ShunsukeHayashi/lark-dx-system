name: 'Lark Base Builder with GitHub Pages'

on:
  workflow_dispatch:
    inputs:
      industry:
        description: 'å¯¾è±¡ã®æ¥­ç•Œ (ä¾‹: å°å£²æ¥­, è£½é€ æ¥­)'
        required: true
        default: 'ã‚µãƒ³ãƒ—ãƒ«æ¥­ç•Œ'
      business_domain:
        description: 'å¯¾è±¡ã®æ¥­å‹™é ˜åŸŸ (ä¾‹: é¡§å®¢ç®¡ç†, åœ¨åº«ç®¡ç†)'
        required: true
        default: 'ã‚µãƒ³ãƒ—ãƒ«æ¥­å‹™'

permissions:
  contents: write
  pages: write
  id-token: write

jobs:
  generate-and-publish:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'

      - name: Create docs directory
        run: |
          mkdir -p docs
          mkdir -p docs/projects
          mkdir -p docs/assets/css
          
      - name: Generate Design Documents and HTML
        run: |
          PROJECT_ID="${{ github.event.inputs.industry }}-${{ github.event.inputs.business_domain }}-$(date +%Y%m%d%H%M%S)"
          PROJECT_DIR="docs/projects/${PROJECT_ID}"
          mkdir -p ${PROJECT_DIR}
          
          # CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
          cat > docs/assets/css/style.css << 'EOF'
          :root {
            --primary-color: #1a73e8;
            --secondary-color: #34a853;
            --background-color: #f8f9fa;
            --text-color: #202124;
            --border-color: #dadce0;
          }
          
          * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
          }
          
          body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
          }
          
          .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
          }
          
          header {
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: 20px 0;
            margin-bottom: 30px;
          }
          
          h1 {
            color: var(--primary-color);
            font-size: 2.5em;
            margin-bottom: 10px;
          }
          
          .project-info {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
          }
          
          .section {
            background: white;
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
          }
          
          .section h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
          }
          
          .download-section {
            background: var(--secondary-color);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            margin: 30px 0;
          }
          
          .download-btn {
            display: inline-block;
            background: white;
            color: var(--secondary-color);
            padding: 10px 30px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
            margin: 5px;
            transition: transform 0.2s;
          }
          
          .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
          }
          
          table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
          }
          
          th, td {
            border: 1px solid var(--border-color);
            padding: 12px;
            text-align: left;
          }
          
          th {
            background: var(--background-color);
            font-weight: bold;
          }
          
          code {
            background: #f1f3f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
          }
          
          pre {
            background: #f1f3f4;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
          }
          
          .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
          }
          
          .status-completed {
            background: #e6f4ea;
            color: #137333;
          }
          
          .status-in-progress {
            background: #fef7e0;
            color: #b05a00;
          }
          
          .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin: 30px 0;
          }
          
          .nav-btn {
            padding: 10px 20px;
            background: var(--primary-color);
            color: white;
            text-decoration: none;
            border-radius: 5px;
            transition: background 0.3s;
          }
          
          .nav-btn:hover {
            background: #1557b0;
          }
          EOF
          
          # è¦ä»¶å®šç¾©æ›¸ã‚’ç”Ÿæˆ
          cat > ${PROJECT_DIR}/requirement_spec.yaml << EOF
          # Lark Base ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶å®šç¾©æ›¸
          
          application:
            name: ${{ github.event.inputs.industry }}${{ github.event.inputs.business_domain }}çµ±åˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
            version: 1.0.0
            created_date: $(date +%Y-%m-%d)
            project_id: ${PROJECT_ID}
            
          business_info:
            industry: ${{ github.event.inputs.industry }}
            domain: ${{ github.event.inputs.business_domain }}
            description: |
              ${{ github.event.inputs.industry }}ã«ãŠã‘ã‚‹${{ github.event.inputs.business_domain }}æ¥­å‹™ã‚’
              åŠ¹ç‡åŒ–ã™ã‚‹ãŸã‚ã®çµ±åˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
              
          scale:
            expected_users: 50
            initial_data_volume: 1000
            growth_rate: 20% per year
            
          features:
            - ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ç®¡ç†
            - ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†
            - ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è‡ªå‹•åŒ–
            - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰åˆ†æ
            - æ¨©é™ç®¡ç†
            
          implementation_schedule:
            phase1:
              name: ãƒ‡ãƒ¼ã‚¿åŸºç›¤æ§‹ç¯‰
              duration: 2é€±é–“
              tasks:
                - ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆ
                - ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®Ÿè£…
                - ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ§‹ç¯‰
            phase2:
              name: è‡ªå‹•åŒ–å®Ÿè£…
              duration: 1é€±é–“
              tasks:
                - ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­å®š
                - ãƒœã‚¿ãƒ³å®Ÿè£…
            phase3:
              name: å¯è¦–åŒ–ãƒ»æœ€é©åŒ–
              duration: 1é€±é–“
              tasks:
                - ãƒ“ãƒ¥ãƒ¼ä½œæˆ
                - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ§‹ç¯‰
                - æ¨©é™è¨­å®š
          EOF
          
          # ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆæ›¸ã‚’ç”Ÿæˆ
          cat > ${PROJECT_DIR}/table_design.yaml << EOF
          # Lark Base ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆæ›¸
          
          project_info:
            id: ${PROJECT_ID}
            generated_date: $(date +%Y-%m-%d)
            
          tables:
            master_tables:
              - table_name: å•†å“ãƒã‚¹ã‚¿
                table_id: tbl_product_master
                description: å•†å“ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ã®åŸºæœ¬æƒ…å ±ã‚’ç®¡ç†
                fields_count: 15
                primary_key: å•†å“ID
                
              - table_name: å–å¼•å…ˆãƒã‚¹ã‚¿
                table_id: tbl_partner_master
                description: å–å¼•å…ˆä¼æ¥­ã®æƒ…å ±ã‚’ç®¡ç†
                fields_count: 20
                primary_key: å–å¼•å…ˆID
                
              - table_name: ã‚«ãƒ†ã‚´ãƒªãƒã‚¹ã‚¿
                table_id: tbl_category_master
                description: åˆ†é¡ãƒ»åŒºåˆ†æƒ…å ±ã‚’ç®¡ç†
                fields_count: 8
                primary_key: ã‚«ãƒ†ã‚´ãƒªID
                
            transaction_tables:
              - table_name: æ³¨æ–‡ç®¡ç†
                table_id: tbl_order_transaction
                description: æ³¨æ–‡ãƒ»å—æ³¨æƒ…å ±ã‚’è¨˜éŒ²
                fields_count: 25
                primary_key: æ³¨æ–‡ID
                
              - table_name: ä½œæ¥­å±¥æ­´
                table_id: tbl_work_history
                description: ä½œæ¥­ãƒ»å‡¦ç†ã®å±¥æ­´ã‚’è¨˜éŒ²
                fields_count: 18
                primary_key: å±¥æ­´ID
                
          relationships:
            - from: æ³¨æ–‡ç®¡ç†
              to: å•†å“ãƒã‚¹ã‚¿
              type: many-to-one
              field: å•†å“ID
              
            - from: æ³¨æ–‡ç®¡ç†
              to: å–å¼•å…ˆãƒã‚¹ã‚¿
              type: many-to-one
              field: å–å¼•å…ˆID
          EOF
          
          # HTMLãƒšãƒ¼ã‚¸ã‚’ç”Ÿæˆ
          cat > ${PROJECT_DIR}/index.html << EOF
          <!DOCTYPE html>
          <html lang="ja">
          <head>
              <meta charset="UTF-8">
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <title>${{ github.event.inputs.industry }}${{ github.event.inputs.business_domain }}çµ±åˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  - è¨­è¨ˆæ›¸</title>
              <link rel="stylesheet" href="../../assets/css/style.css">
          </head>
          <body>
              <header>
                  <div class="container">
                      <h1>ğŸ¢ ${{ github.event.inputs.industry }}${{ github.event.inputs.business_domain }}çµ±åˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </h1>
                      <p>Lark Base è¨­è¨ˆæ›¸ãƒ»å®Ÿè£…ã‚¬ã‚¤ãƒ‰</p>
                  </div>
              </header>
              
              <div class="container">
                  <div class="project-info">
                      <h2>ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±</h2>
                      <table>
                          <tr>
                              <th>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID</th>
                              <td><code>${PROJECT_ID}</code></td>
                          </tr>
                          <tr>
                              <th>æ¥­ç•Œ</th>
                              <td>${{ github.event.inputs.industry }}</td>
                          </tr>
                          <tr>
                              <th>æ¥­å‹™é ˜åŸŸ</th>
                              <td>${{ github.event.inputs.business_domain }}</td>
                          </tr>
                          <tr>
                              <th>ç”Ÿæˆæ—¥æ™‚</th>
                              <td>$(date '+%Yå¹´%mæœˆ%dæ—¥ %H:%M')</td>
                          </tr>
                          <tr>
                              <th>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
                              <td><span class="status-badge status-completed">ç”Ÿæˆå®Œäº†</span></td>
                          </tr>
                      </table>
                  </div>
                  
                  <div class="download-section">
                      <h2>ğŸ“¥ è¨­è¨ˆæ›¸ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</h2>
                      <p>ç”Ÿæˆã•ã‚ŒãŸè¨­è¨ˆæ›¸ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™</p>
                      <a href="requirement_spec.yaml" class="download-btn" download>è¦ä»¶å®šç¾©æ›¸</a>
                      <a href="table_design.yaml" class="download-btn" download>ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆæ›¸</a>
                      <a href="implementation_guide.html" class="download-btn">å®Ÿè£…ã‚¬ã‚¤ãƒ‰</a>
                  </div>
                  
                  <div class="section">
                      <h2>ğŸ¯ ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦</h2>
                      <p>${{ github.event.inputs.industry }}ã«ãŠã‘ã‚‹${{ github.event.inputs.business_domain }}æ¥­å‹™ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ãŸã‚ã®çµ±åˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚</p>
                      
                      <h3>ä¸»ãªæ©Ÿèƒ½</h3>
                      <ul>
                          <li>âœ… ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ç®¡ç†ï¼ˆå•†å“ã€å–å¼•å…ˆã€ã‚«ãƒ†ã‚´ãƒªï¼‰</li>
                          <li>âœ… ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†ï¼ˆæ³¨æ–‡ã€ä½œæ¥­å±¥æ­´ï¼‰</li>
                          <li>âœ… ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è‡ªå‹•åŒ–ï¼ˆæ‰¿èªã€é€šçŸ¥ã€è‡ªå‹•å‡¦ç†ï¼‰</li>
                          <li>âœ… ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰åˆ†æï¼ˆKPIã€ã‚°ãƒ©ãƒ•ã€ãƒ¬ãƒãƒ¼ãƒˆï¼‰</li>
                          <li>âœ… æ¨©é™ç®¡ç†ï¼ˆ5æ®µéšã®æ¨©é™ãƒ¬ãƒ™ãƒ«ï¼‰</li>
                      </ul>
                  </div>
                  
                  <div class="section">
                      <h2>ğŸ“Š ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹æˆ</h2>
                      <h3>ãƒã‚¹ã‚¿ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«</h3>
                      <table>
                          <thead>
                              <tr>
                                  <th>ãƒ†ãƒ¼ãƒ–ãƒ«å</th>
                                  <th>ID</th>
                                  <th>èª¬æ˜</th>
                                  <th>ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ•°</th>
                              </tr>
                          </thead>
                          <tbody>
                              <tr>
                                  <td>å•†å“ãƒã‚¹ã‚¿</td>
                                  <td><code>tbl_product_master</code></td>
                                  <td>å•†å“ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ã®åŸºæœ¬æƒ…å ±ã‚’ç®¡ç†</td>
                                  <td>15</td>
                              </tr>
                              <tr>
                                  <td>å–å¼•å…ˆãƒã‚¹ã‚¿</td>
                                  <td><code>tbl_partner_master</code></td>
                                  <td>å–å¼•å…ˆä¼æ¥­ã®æƒ…å ±ã‚’ç®¡ç†</td>
                                  <td>20</td>
                              </tr>
                              <tr>
                                  <td>ã‚«ãƒ†ã‚´ãƒªãƒã‚¹ã‚¿</td>
                                  <td><code>tbl_category_master</code></td>
                                  <td>åˆ†é¡ãƒ»åŒºåˆ†æƒ…å ±ã‚’ç®¡ç†</td>
                                  <td>8</td>
                              </tr>
                          </tbody>
                      </table>
                      
                      <h3>ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«</h3>
                      <table>
                          <thead>
                              <tr>
                                  <th>ãƒ†ãƒ¼ãƒ–ãƒ«å</th>
                                  <th>ID</th>
                                  <th>èª¬æ˜</th>
                                  <th>ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ•°</th>
                              </tr>
                          </thead>
                          <tbody>
                              <tr>
                                  <td>æ³¨æ–‡ç®¡ç†</td>
                                  <td><code>tbl_order_transaction</code></td>
                                  <td>æ³¨æ–‡ãƒ»å—æ³¨æƒ…å ±ã‚’è¨˜éŒ²</td>
                                  <td>25</td>
                              </tr>
                              <tr>
                                  <td>ä½œæ¥­å±¥æ­´</td>
                                  <td><code>tbl_work_history</code></td>
                                  <td>ä½œæ¥­ãƒ»å‡¦ç†ã®å±¥æ­´ã‚’è¨˜éŒ²</td>
                                  <td>18</td>
                              </tr>
                          </tbody>
                      </table>
                  </div>
                  
                  <div class="section">
                      <h2>ğŸ“… å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</h2>
                      <table>
                          <thead>
                              <tr>
                                  <th>ãƒ•ã‚§ãƒ¼ã‚º</th>
                                  <th>æœŸé–“</th>
                                  <th>ä¸»ãªã‚¿ã‚¹ã‚¯</th>
                                  <th>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
                              </tr>
                          </thead>
                          <tbody>
                              <tr>
                                  <td>Phase 1: ãƒ‡ãƒ¼ã‚¿åŸºç›¤æ§‹ç¯‰</td>
                                  <td>2é€±é–“</td>
                                  <td>ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®Ÿè£…ã€ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ§‹ç¯‰</td>
                                  <td><span class="status-badge status-in-progress">æº–å‚™ä¸­</span></td>
                              </tr>
                              <tr>
                                  <td>Phase 2: è‡ªå‹•åŒ–å®Ÿè£…</td>
                                  <td>1é€±é–“</td>
                                  <td>ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­å®šã€ãƒœã‚¿ãƒ³å®Ÿè£…</td>
                                  <td><span class="status-badge">æœªç€æ‰‹</span></td>
                              </tr>
                              <tr>
                                  <td>Phase 3: å¯è¦–åŒ–ãƒ»æœ€é©åŒ–</td>
                                  <td>1é€±é–“</td>
                                  <td>ãƒ“ãƒ¥ãƒ¼ä½œæˆã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ§‹ç¯‰ã€æ¨©é™è¨­å®š</td>
                                  <td><span class="status-badge">æœªç€æ‰‹</span></td>
                              </tr>
                          </tbody>
                      </table>
                  </div>
                  
                  <div class="nav-buttons">
                      <a href="../../index.html" class="nav-btn">â† ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ã¸</a>
                      <a href="implementation_guide.html" class="nav-btn">å®Ÿè£…ã‚¬ã‚¤ãƒ‰ã¸ â†’</a>
                  </div>
              </div>
          </body>
          </html>
          EOF
          
          # å®Ÿè£…ã‚¬ã‚¤ãƒ‰HTMLã‚’ç”Ÿæˆ
          cat > ${PROJECT_DIR}/implementation_guide.html << EOF
          <!DOCTYPE html>
          <html lang="ja">
          <head>
              <meta charset="UTF-8">
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <title>å®Ÿè£…ã‚¬ã‚¤ãƒ‰ - ${{ github.event.inputs.industry }}${{ github.event.inputs.business_domain }}</title>
              <link rel="stylesheet" href="../../assets/css/style.css">
          </head>
          <body>
              <header>
                  <div class="container">
                      <h1>ğŸ“š Lark Base å®Ÿè£…ã‚¬ã‚¤ãƒ‰</h1>
                      <p>${{ github.event.inputs.industry }}${{ github.event.inputs.business_domain }}çµ±åˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </p>
                  </div>
              </header>
              
              <div class="container">
                  <div class="section">
                      <h2>ğŸš€ å®Ÿè£…æ‰‹é †</h2>
                      
                      <h3>Step 1: Baseï¼ˆå¤šç¶­è¡¨æ ¼ï¼‰ã®ä½œæˆ</h3>
                      <ol>
                          <li>Larkã«ãƒ­ã‚°ã‚¤ãƒ³</li>
                          <li>ã€Œå¤šç¶­è¡¨æ ¼ã€â†’ã€Œæ–°è¦ä½œæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
                          <li>åå‰ã‚’å…¥åŠ›: <code>${{ github.event.inputs.industry }}${{ github.event.inputs.business_domain }}çµ±åˆç®¡ç†</code></li>
                      </ol>
                      
                      <h3>Step 2: ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ</h3>
                      <p>ä»¥ä¸‹ã®é †åºã§ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¾ã™ï¼š</p>
                      <pre>
  1. å•†å“ãƒã‚¹ã‚¿ (tbl_product_master)
  2. å–å¼•å…ˆãƒã‚¹ã‚¿ (tbl_partner_master)
  3. ã‚«ãƒ†ã‚´ãƒªãƒã‚¹ã‚¿ (tbl_category_master)
  4. æ³¨æ–‡ç®¡ç† (tbl_order_transaction)
  5. ä½œæ¥­å±¥æ­´ (tbl_work_history)</pre>
                      
                      <h3>Step 3: ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¨­å®š</h3>
                      <p>å„ãƒ†ãƒ¼ãƒ–ãƒ«ã«ä»¥ä¸‹ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ä½œæˆï¼š</p>
                      
                      <h4>å•†å“ãƒã‚¹ã‚¿ã®ä¾‹</h4>
                      <table>
                          <thead>
                              <tr>
                                  <th>ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å</th>
                                  <th>ã‚¿ã‚¤ãƒ—</th>
                                  <th>è¨­å®š</th>
                              </tr>
                          </thead>
                          <tbody>
                              <tr>
                                  <td>å•†å“ID</td>
                                  <td>ãƒ†ã‚­ã‚¹ãƒˆ</td>
                                  <td>ä¸»ã‚­ãƒ¼ã€å¿…é ˆã€ãƒ¦ãƒ‹ãƒ¼ã‚¯</td>
                              </tr>
                              <tr>
                                  <td>å•†å“å</td>
                                  <td>ãƒ†ã‚­ã‚¹ãƒˆ</td>
                                  <td>å¿…é ˆ</td>
                              </tr>
                              <tr>
                                  <td>ã‚«ãƒ†ã‚´ãƒª</td>
                                  <td>å˜ä¸€é¸æŠ</td>
                                  <td>ã‚«ãƒ†ã‚´ãƒªãƒã‚¹ã‚¿ã‚’å‚ç…§</td>
                              </tr>
                              <tr>
                                  <td>å˜ä¾¡</td>
                                  <td>é€šè²¨</td>
                                  <td>JPY</td>
                              </tr>
                              <tr>
                                  <td>åœ¨åº«æ•°</td>
                                  <td>æ•°å€¤</td>
                                  <td>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 0</td>
                              </tr>
                          </tbody>
                      </table>
                  </div>
                  
                  <div class="nav-buttons">
                      <a href="index.html" class="nav-btn">â† è¨­è¨ˆæ›¸ãƒˆãƒƒãƒ—ã¸</a>
                      <a href="../../index.html" class="nav-btn">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ã¸ â†’</a>
                  </div>
              </div>
          </body>
          </html>
          EOF
          
          # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ãƒšãƒ¼ã‚¸ã‚’æ›´æ–°
          if [ ! -f docs/index.html ]; then
              cat > docs/index.html << 'EOF'
          <!DOCTYPE html>
          <html lang="ja">
          <head>
              <meta charset="UTF-8">
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <title>Lark Base è¨­è¨ˆæ›¸ãƒãƒ¼ã‚¿ãƒ«</title>
              <link rel="stylesheet" href="assets/css/style.css">
          </head>
          <body>
              <header>
                  <div class="container">
                      <h1>ğŸ—‚ï¸ Lark Base è¨­è¨ˆæ›¸ãƒãƒ¼ã‚¿ãƒ«</h1>
                      <p>ç”Ÿæˆã•ã‚ŒãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¸€è¦§</p>
                  </div>
              </header>
              <div class="container">
                  <div class="section">
                      <h2>ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§</h2>
                      <div id="project-list">
                          <!-- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªã‚¹ãƒˆã¯JavaScriptã§å‹•çš„ã«è¿½åŠ  -->
                      </div>
                  </div>
              </div>
              <script>
                  // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ã‚’å‹•çš„ã«èª­ã¿è¾¼ã‚€ï¼ˆç°¡æ˜“ç‰ˆï¼‰
                  const projectList = document.getElementById('project-list');
                  // å®Ÿéš›ã®å®Ÿè£…ã§ã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’JSONã§ç®¡ç†
              </script>
          </body>
          </html>
          EOF
          fi
          
          # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ 
          cat > ${PROJECT_DIR}/metadata.json << EOF
          {
            "id": "${PROJECT_ID}",
            "name": "${{ github.event.inputs.industry }}${{ github.event.inputs.business_domain }}çµ±åˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ",
            "industry": "${{ github.event.inputs.industry }}",
            "domain": "${{ github.event.inputs.business_domain }}",
            "created": "$(date -u +%Y-%m-%dT%H:%M:%SZ)",
            "status": "completed"
          }
          EOF
          
          echo "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID: ${PROJECT_ID}"
          echo "ç”Ÿæˆå®Œäº†ï¼"

      - name: Commit to GitHub Pages branch
        run: |
          git config --global user.name 'GitHub Actions'
          git config --global user.email 'actions@github.com'
          
          # gh-pagesãƒ–ãƒ©ãƒ³ãƒãŒå­˜åœ¨ã—ãªã„å ´åˆã¯ä½œæˆ
          git checkout -B gh-pages || git checkout gh-pages
          
          # docsãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å†…å®¹ã‚’ã‚³ãƒ”ãƒ¼
          cp -r docs/* .
          
          git add .
          git commit -m "Add design documents for ${{ github.event.inputs.industry }}-${{ github.event.inputs.business_domain }}" || echo "No changes to commit"
          git push origin gh-pages --force

      - name: Enable GitHub Pages
        run: |
          # GitHub Pagesè¨­å®šï¼ˆAPIã§æœ‰åŠ¹åŒ–ï¼‰
          curl -X PUT \
            -H "Authorization: token ${{ secrets.GITHUB_TOKEN }}" \
            -H "Accept: application/vnd.github.v3+json" \
            https://api.github.com/repos/${{ github.repository }}/pages \
            -d '{"source":{"branch":"gh-pages","path":"/"}}'

      - name: Output Pages URL
        run: |
          echo "ğŸ“„ è¨­è¨ˆæ›¸ãŒå…¬é–‹ã•ã‚Œã¾ã—ãŸï¼"
          echo "URL: https://${{ github.repository_owner }}.github.io/${{ github.event.repository.name }}/projects/"
          echo ""
          echo "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§: https://${{ github.repository_owner }}.github.io/${{ github.event.repository.name }}/"